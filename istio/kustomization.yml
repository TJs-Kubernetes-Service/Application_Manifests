resources:
  - resources/namespace.yml

# namespace: istio-system

# https://artifacthub.io/packages/helm/istio-official/istiod
helmCharts:
  - name: base
    repo: https://istio-release.storage.googleapis.com/charts
    version: 1.19.0 # https://artifacthub.io/packages/helm/istio-official/base
    releaseName: istio-base
    namespace: istio-system
    includeCRDs: true
  - name: cni
    repo: https://istio-release.storage.googleapis.com/charts
    version: 1.19.0 # https://artifacthub.io/packages/helm/istio-official/cni
    releaseName: istio-cni
    namespace: istio-system
    includeCRDs: true
  - name: istiod
    repo: https://istio-release.storage.googleapis.com/charts
    version: 1.19.0 # https://artifacthub.io/packages/helm/istio-official/istiod
    releaseName: istiod
    namespace: istio-system
    valuesFile: values-discovery.yml
    includeCRDs: true
  # https://github.com/istio/istio/issues/35789#issuecomment-1608520667
  - name: gateway
    repo: https://istio-release.storage.googleapis.com/charts
    version: 1.19.0 # https://artifacthub.io/packages/helm/istio-official/gateway
    releaseName: gateway
    namespace: istio-gateway
    valuesFile: values-gateway.yml
    includeCRDs: true

